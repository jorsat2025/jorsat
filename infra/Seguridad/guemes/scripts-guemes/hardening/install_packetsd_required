#!/bin/bash

echo "ğŸ›¡ Instalador de paquetes recomendados por Lynis"
echo "ğŸ” Verificando e instalando solo los que faltan..."
echo

# Lista de paquetes sugeridos por Lynis (podÃ©s ampliarla)
PAQUETES=(
  apt-show-versions
  auditd
  apparmor
  debsums
  chkrootkit
  lynis
  acct
  aide
)

INSTALADOS=()
FALTANTES=()

for paquete in "${PAQUETES[@]}"; do
    if dpkg -l | grep -qw "$paquete"; then
        echo "âœ… $paquete ya estÃ¡ instalado"
        INSTALADOS+=("$paquete")
    else
        echo "ğŸ“¦ Instalando $paquete..."
        apt-get install -y "$paquete"
        FALTANTES+=("$paquete")
    fi
done

echo
echo "ğŸ“‹ Resumen:"
echo "âœ”ï¸ Ya estaban: ${#INSTALADOS[@]} â†’ ${INSTALADOS[*]}"
echo "ğŸ†• Instalados ahora: ${#FALTANTES[@]} â†’ ${FALTANTES[*]}"
